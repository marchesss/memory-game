<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Memory Game</title>
  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      font-family: Arial, sans-serif;
      background: #f5f5f5;
    }

    h1 {
      margin-top: 20px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 10px;
      max-width: 800px;
      margin: 20px auto;
    }

    .card {
      width: 100px;
      height: 100px;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.5s;
      cursor: pointer;
    }

    .card.flip {
      transform: rotateY(180deg);
    }

    .card .front,
    .card .back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 8px;
    }

    .card .front {
      transform: rotateY(180deg);
      object-fit: cover;
    }

    .card .back {
      background: #ccc;
    }
  </style>
</head>
<body>
  <h1>Memory Game</h1>
  <div class="grid"></div>

  <script>
    // Список всех твоих изображений в папке /images
    const imageFiles = [
      "-2147483648_-230572.jpg",
      "-2147483648_-230574.jpg",
      "-2147483648_-230578.jpg",
      "-2147483648_-230582.jpg",
      "-2147483648_-230584.jpg",
      "-2147483648_-230586.jpg",
      "-2147483648_-230588.jpg",
      "-2147483648_-230590.jpg",
      "-2147483648_-230592.jpg",
      "-2147483648_-230594.jpg",
      "-2147483648_-230596.jpg",
      "-2147483648_-230602.jpg",
      "-2147483648_-230604.jpg",
      "-2147483648_-230610.jpg",
      "-2147483648_-230612.jpg",
      "-2147483648_-230614.jpg",
      "-2147483648_-230628.jpg",
      "-2147483648_-230632.jpg",
      "-2147483648_-230634.jpg",
      "-2147483648_-230636.jpg",
      "-2147483648_-230638.jpg",
      "-2147483648_-230640.jpg",
      "-2147483648_-230642.jpg",
      "-2147483648_-230644.jpg",
      "-2147483648_-230646.jpg",
      "-2147483648_-230648.jpg",
      "-2147483648_-230650.jpg",
      "-2147483648_-230652.jpg",
      "-2147483648_-230654.jpg",
      "-2147483648_-230656.jpg",
      "-2147483648_-230658.jpg"
    ];

    // Создаём массив карт с путями
    const cardsArray = imageFiles.map(name => ({ name, img: `images/${name}` }));

    // Дублируем массив для пар
    const gameArray = [...cardsArray, ...cardsArray];

    // Тасуем массив
    gameArray.sort(() => 0.5 - Math.random());

    const grid = document.querySelector(".grid");
    let firstCard = null;
    let secondCard = null;
    let lockBoard = false;

    // Создаём карточки на поле
    gameArray.forEach(card => {
      const cardElement = document.createElement("div");
      cardElement.classList.add("card");

      const frontFace = document.createElement("img");
      frontFace.src = card.img;
      frontFace.classList.add("front");

      const backFace = document.createElement("div");
      backFace.classList.add("back");

      cardElement.appendChild(frontFace);
      cardElement.appendChild(backFace);

      cardElement.addEventListener("click", () => flipCard(cardElement, card.name));

      grid.appendChild(cardElement);
    });

    function flipCard(cardElement, name) {
      if (lockBoard || cardElement === firstCard) return;

      cardElement.classList.add("flip");

      if (!firstCard) {
        firstCard = cardElement;
        firstCard.dataset.name = name;
        return;
      }

      secondCard = cardElement;
      secondCard.dataset.name = name;
      lockBoard = true;

      checkForMatch();
    }

    function checkForMatch() {
      const isMatch = firstCard.dataset.name === secondCard.dataset.name;

      if (isMatch) {
        resetBoard();
      } else {
        setTimeout(() => {
          firstCard.classList.remove("flip");
          secondCard.classList.remove("flip");
          resetBoard();
        }, 1000);
      }
    }

    function resetBoard() {
      [firstCard, secondCard, lockBoard] = [null, null, false];
    }
  </script>
</body>
</html>
